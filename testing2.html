<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SHM: Conditions, Frequency, and Period</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      background: #f5f7fa;
      color: #333;
      line-height: 1.6;
    }
    .container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 2rem 1.5rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
    }
    h1, h2, h3 {
      font-family: 'Montserrat', sans-serif;
      color: #003049;
    }
    h1 {
      font-size: 2.2rem;
      margin-bottom: 1rem;
      text-align: center;
    }
    h2 {
      margin-top: 2rem;
      color: #0077b6;
    }
    h3 {
      margin-top: 1.2rem;
      color: #1d3557;
    }
    p, ul {
      font-size: 1.1rem;
      margin-bottom: 1.2rem;
    }
    .formula-box {
      background-color: #dbeafe;
      border-left: 6px solid #3b82f6;
      padding: 1.2rem 1.5rem;
      margin: 1.5rem 0;
      border-radius: 10px;
      font-size: 1.2rem;
      font-family: 'Courier New', Courier, monospace;
      overflow-x: auto;
    }
    .image-placeholder, figcaption {
      width: 100%;
      max-width: 500px;
      height: 300px;
      margin: 1.5rem auto;
      background-color: #dbeafe;
      border: 3px dashed #3b82f6;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #1e3a8a;
      font-size: 1rem;
      text-align: center;
    }
    canvas {
      display: block;
      margin: 1rem auto;
      background: #e0f2fe;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    label {
      display: inline-block;
      margin: 0.5rem 0 0.2rem;
      font-weight: 500;
    }
    input[type="range"], input[type="number"] {
      width: 100%;
      padding: 0.3rem;
      font-size: 1rem;
    }
    .controls { margin-top: 1.5rem; }
    #omegaDisplay {
      margin-top: 1.2rem;
      font-size: 1.15rem;
      color: #1e3a8a;
      text-align: center;
    }
  </style>
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>
</head>
<body>
  <div class="container">
    <h1>Key Topic 2.3: Phase and Initial Conditions</h1>
    <p>In SHM, the general solution for position is:</p>
    <div class="formula-box">
      x(t) = A \cos(\omega t + \phi)
    </div>
    <p>Given initial conditions $x_0$ and $v_0$, we can solve for $A$ and $\phi$:</p>
    <div class="formula-box">
      A = \sqrt{x_0^2 + \left(\frac{v_0}{\omega}\right)^2} <br>
      \phi = \tan^{-1}\left(\frac{-v_0}{\omega x_0}\right)
    </div>

    <h2>Interactive Calculator</h2>
    <label for="x0">Initial Position (x₀):</label>
    <input type="number" id="x0" value="0.1" step="0.01">
    <label for="v0">Initial Velocity (v₀):</label>
    <input type="number" id="v0" value="0" step="0.01">
    <label for="omega">Angular Frequency (ω):</label>
    <input type="number" id="omega" value="2" step="0.01">

    <div class="formula-box" id="results"></div>

    <script>
      const x0Input = document.getElementById('x0');
      const v0Input = document.getElementById('v0');
      const omegaInput = document.getElementById('omega');
      const results = document.getElementById('results');

      function update() {
        const x0 = parseFloat(x0Input.value);
        const v0 = parseFloat(v0Input.value);
        const omega = parseFloat(omegaInput.value);

        const A = Math.sqrt(x0 ** 2 + (v0 / omega) ** 2);
        const phi = Math.atan2(-v0, omega * x0);

        results.innerHTML = `A = ${A.toFixed(3)}<br>ϕ = ${phi.toFixed(3)} rad`;
        MathJax.typesetPromise();
      }

      x0Input.addEventListener('input', update);
      v0Input.addEventListener('input', update);
      omegaInput.addEventListener('input', update);
      update();
    </script>
  </div>
</body>
</html>
